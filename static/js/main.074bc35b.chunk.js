(this["webpackJsonpubiquity-mint-live-monitor"]=this["webpackJsonpubiquity-mint-live-monitor"]||[]).push([[0],{357:function(e){e.exports=JSON.parse('{"name":"ubiquity-mint-live-monitor","version":"0.1.0","private":true,"dependencies":{"@emotion/react":"^11.9.3","@emotion/styled":"^11.9.3","@material-ui/core":"^4.12.4","@material-ui/icons":"^4.11.3","@mui/icons-material":"^5.8.4","@mui/material":"^5.8.7","@testing-library/jest-dom":"^5.16.4","@testing-library/react":"^13.3.0","@testing-library/user-event":"^13.5.0","@ubiquity/ubiquity-ts-client":"^1.0.0","axios":"^0.27.2","hoist-non-react-statics":"^3.3.2","lodash":"^4.17.21","react":"^18.2.0","react-cache-buster":"^0.1.6","react-dom":"^18.2.0","react-router-dom":"^5.3.3","react-scripts":"4.0.3","share-twitter":"^1.0.0","url-encode-decode":"^1.0.0","web-vitals":"^2.1.4"},"scripts":{"build:npmrc":"build_npmrc.sh","build:env":"react-app-env --env-file=.env","start":"npm run build:env start","serve":"serve build","docker":"docker-compose up --build","build":"npm run build:env build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"react-app-env":"^1.2.3","serve":"^13.0.2"}}')},386:function(e,t,n){},387:function(e,t,n){},388:function(e,t,n){},429:function(e,t){},434:function(e,t){},435:function(e,t){},454:function(e,t){},456:function(e,t){},466:function(e,t){},468:function(e,t){},498:function(e,t){},499:function(e,t){},554:function(e,t){},557:function(e,t){},560:function(e,t){},579:function(e,t){},593:function(e,t){},595:function(e,t){},610:function(e,t){},611:function(e,t){},766:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(356),i=n.n(c),o=n(357),s=(n(386),n(387),n(388),n(7)),u=n(6),b=n(19),l=n(20),j=n(839),h=n(366),O=n(35),d=n(22),p=n(840),f=n(2),m=function(e){var t=e.children,n=e.variant,r=void 0===n?"h3":n;return Object(f.jsx)(p.a,{variant:r,className:"title",children:t})},v=n(833),g=function(e){var t=e.children,n=e.endIcon,r=e.onClick;return Object(f.jsx)(v.a,{className:"stretched-button",variant:"contained",endIcon:n,onClick:r,children:t})},x=function(e){var t=e.children,n=e.variant,r=void 0===n?"p":n;return Object(f.jsx)(p.a,{variant:r,className:"label",children:t})},w=(n(363),n(362),n(832),n(841)),N=n(837),k=(n(838),function(e){return"https://public-api.solscan.io/token/holders?tokenAddress=".concat(e,"&offset=0&limit=1")});n(392).encode;var y=n(824),T=function(e){var t=e.heroName,n=e.heroImgUrl,r=e.selectionType;return Object(f.jsx)("div",{children:Object(f.jsx)(w.a,{className:"padding--40px hover-animation nft-row",children:Object(f.jsxs)(y.a,{direction:"column",children:[Object(f.jsx)("img",{src:n,alt:t}),Object(f.jsx)(x,{variant:"h5",children:t}),Object(f.jsx)(x,{variant:"h5",children:r})]})})})},S=n(842),P=n(16),F=Object(u.a)((function e(t,n){Object(s.a)(this,e),this.heroName=t,this.heroImgUrl="/img/chars/".concat(n)})),R=[new F("DVA","dva.png"),new F("Doomfist","doomfist.png"),new F("Junker Queen","junker-queen.png"),new F("Orisa","orisa.png"),new F("Ramattra","ramattra.png"),new F("Reinhardt","reinhardt.png"),new F("Roadhog","roadhog.png"),new F("Sigma","sigma.png"),new F("Winston","winston.png"),new F("Wrecking Ball","wrecking-ball.png"),new F("Zarya","zarya.png")],C=[new F("Ashe","ashe.png"),new F("Bastion","bastion.png"),new F("Cassidy","cassidy.png"),new F("Echo","echo.png"),new F("Genji","genji.png"),new F("Hanzo","hanzo.png"),new F("Junkrat","junkrat.png"),new F("Mei","mei.png"),new F("Pharah","pharah.png"),new F("Reaper","reaper.png"),new F("Sojourn","sojourn.png"),new F("Soldier 76","soldier-76.png"),new F("Sombra","sombra.png"),new F("Symmetra","symmetra.png"),new F("Torbjorn","torbjorn.png"),new F("Tracer","tracer.png"),new F("Widowmaker","widowmaker.png")],E=[new F("Ana","ana.png"),new F("Baptiste","baptiste.png"),new F("Brigitte","brigitte.png"),new F("Kiriko","kiriko.png"),new F("Lucio","lucio.png"),new F("Mercy","mercy.png"),new F("Moira","moira.png"),new F("Zenyatta","zenyatta.png"),new F("Lifeweaver","lifeweaver.png")],B=[].concat(Object(P.a)(R),Object(P.a)(C),Object(P.a)(E)),I=function(e){return e[Math.floor(Math.random()*e.length)]},_=function(){var e=Object(r.useState)(I(R)),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(I(C)),i=Object(d.a)(c,2),o=i[0],s=i[1],u=Object(r.useState)(I(E)),b=Object(d.a)(u,2),l=b[0],h=b[1],O=Object(r.useState)(I(B)),p=Object(d.a)(O,2),v=p[0],x=p[1],w=function(){a(I(R)),s(I(C)),h(I(E)),x(I(B))};return Object(f.jsxs)(j.a,{className:"text-align--center",children:[Object(f.jsx)(m,{children:"Overwatch 2 - Random Char Selector"}),Object(f.jsx)(m,{variant:"h6",children:'Hi!. Im h4vok. I always played flex and all characters. And I always wanted a "Random" selector in overwatch. Tired of waiting, I created my own. Enjoy!'}),Object(f.jsx)(m,{variant:"h6",children:"\xa0"}),Object(f.jsx)(g,{onClick:w,children:"Randomize"}),Object(f.jsxs)(S.a,{className:"box",children:[Object(f.jsxs)(N.a,{container:!0,spacing:3,children:[Object(f.jsx)(N.a,{item:!0,xs:12,md:3,children:Object(f.jsx)(T,{heroName:n.heroName,heroImgUrl:n.heroImgUrl,selectionType:"Tank"})}),Object(f.jsx)(N.a,{item:!0,xs:12,md:3,children:Object(f.jsx)(T,{heroName:o.heroName,heroImgUrl:o.heroImgUrl,selectionType:"DPS"})}),Object(f.jsx)(N.a,{item:!0,xs:12,md:3,children:Object(f.jsx)(T,{heroName:l.heroName,heroImgUrl:l.heroImgUrl,selectionType:"Support"})}),Object(f.jsx)(N.a,{item:!0,xs:12,md:3,children:Object(f.jsx)(T,{heroName:v.heroName,heroImgUrl:v.heroImgUrl,selectionType:"Open Queue"})})]}),"\xa0",Object(f.jsx)(g,{onClick:w,children:"Randomize"})]})]})},A=n(835),D=n(365),L=n.n(D),M=n(827),U=n(828),H=n(825),z=Object(H.a)((function(e){return{icon:{width:192,height:192,color:e.palette.secondary.main},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},paper:{backgroundColor:e.palette.background.default,margin:0,height:"calc(100vh - 64px)"},button:{marginTop:20}}})),K=function(){var e=z();return Object(f.jsx)(M.a,{className:e.paper,children:Object(f.jsxs)("div",{className:e.container,children:[Object(f.jsx)(U.a,{variant:"h4",children:"404"}),"Page not found.",Object(f.jsx)(U.a,{variant:"subtitle1"}),Object(f.jsx)(A.a,{color:"secondary","aria-label":"home",href:"/",className:e.button,startIcon:Object(f.jsx)(L.a,{}),children:"Home"})]})})},W=n(371),q=n(829),J=Object(W.a)({palette:{mode:"light"}}),V=function(e){var t=e.children;return Object(f.jsx)(q.a,{theme:J,children:Object(f.jsx)(h.a,{children:Object(f.jsxs)(O.c,{children:[Object(f.jsx)(O.a,{exact:!0,path:"/",component:_}),Object(f.jsx)(O.a,{component:K}),t]})})})},Q=function(e){Object(b.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"bg"}),Object(f.jsx)("div",{className:"bg bg2"}),Object(f.jsx)("div",{className:"bg bg3"}),Object(f.jsx)(j.a,{className:"content",children:Object(f.jsx)(V,{})})]})}}]),n}(r.PureComponent),Y=Q,Z=n(834),G=n(830),X=Object(H.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),$=function(e){var t=X();return Object(f.jsx)(Z.a,{className:t.backdrop,open:e.open,children:Object(f.jsx)(G.a,{color:"inherit"})})},ee=n(373),te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,845)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},ne=n(50),re=n(45),ae=n(18),ce=n(32),ie=n(21),oe=Object(ce.a)("getNFTs"),se=Object(ce.a)("setNFTs"),ue=Object(u.a)((function e(t,n){var r=this;Object(s.a)(this,e),Object.defineProperty(this,oe,{writable:!0,value:void 0}),Object.defineProperty(this,se,{writable:!0,value:void 0}),this.getNFTsCount=function(){return Object(ae.a)(r,oe)[oe]().length},this.handleNFT=function(e){return Object(ae.a)(r,se)[se]([].concat(Object(P.a)(Object(ae.a)(r,oe)[oe]()),[e]))},this.reset=function(){return Object(ae.a)(r,se)[se]([])},Object(ae.a)(this,oe)[oe]=t,Object(ae.a)(this,se)[se]=n})),be=n(82),le=Object(ce.a)("eventEmitter"),je=Object(ce.a)("NFT_EVENT_KEY"),he=Object(ce.a)("onNFTEvent"),Oe={NFTHandler:null,Observer:new(Object(u.a)((function e(){var t=this;Object(s.a)(this,e),Object.defineProperty(this,le,{writable:!0,value:void 0}),Object.defineProperty(this,je,{writable:!0,value:void 0}),this.emitNFTEvent=function(e){return Object(ae.a)(t,le)[le].emit(Object(ae.a)(t,je)[je],e)},Object.defineProperty(this,he,{writable:!0,value:function(){return Object(ae.a)(t,le)[le].on(Object(ae.a)(t,je)[je],(function(e){return Oe.NFTHandler.handleNFT(e)}))}}),Object(ae.a)(this,le)[le]=new be.EventEmitter,Object(ae.a)(this,je)[je]="nft_event",Object(ae.a)(this,he)[he]()})))},de=a.a.createContext(null),pe=Object(ce.a)("getNFTs"),fe=Object(ce.a)("setNFTs"),me=function(e){Object(b.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).maxNFTsReached=function(){return r.state.nfts.length>="100"},Object.defineProperty(Object(re.a)(r),pe,{writable:!0,value:function(){return ie.clone(r.state.nfts,!1)}}),Object.defineProperty(Object(re.a)(r),fe,{writable:!0,value:function(e){r.setState((function(){return{nfts:e}}))}}),r.state={nfts:[]},Oe.NFTHandler=new ue(Object(ae.a)(Object(re.a)(r),pe)[pe],Object(ae.a)(Object(re.a)(r),fe)[fe]),r}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)(de.Provider,{value:Object(ne.a)(Object(ne.a)({},this.state),{},{resetNFTState:this.resetNFTState,maxNFTsReached:this.maxNFTsReached}),children:this.props.children})}}]),n}(a.a.Component);de.Consumer;n(71);var ve=n(33),ge=n(68),xe=a.a.createContext(null),we=Object(ce.a)("setBlockNumber"),Ne=Object(ce.a)("setLatestBlockNumber"),ke=function(e){Object(b.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).start=Object(ge.a)(Object(ve.a)().mark((function e(){return Object(ve.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState((function(){return{monitor:new Ue(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_FAST_REFRESH:"false",REACT_APP_MAX_NFTS:"100"}).REACT_APP_API_KEY,Object(ae.a)(Object(re.a)(r),we)[we],Object(ae.a)(Object(re.a)(r),Ne)[Ne])}}),Object(ge.a)(Object(ve.a)().mark((function e(){return Object(ve.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.state.monitor.start(r.state.startBlockNumber);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)}))),r.stop=function(){return r.state.monitor.stop()},r.resetMonitorState=function(){r.stop(),r.setState((function(){return{monitor:null,blockNumber:0,latestBlockNumber:0}}))},r.isRunning=function(){return r.state.monitor&&r.state.monitor.isRunning()},r.setStartBlockNumber=function(e){r.setState((function(){return{startBlockNumber:e}}))},Object.defineProperty(Object(re.a)(r),we,{writable:!0,value:function(e){r.setState((function(){return{blockNumber:e}}))}}),Object.defineProperty(Object(re.a)(r),Ne,{writable:!0,value:function(e){r.setState((function(){return{latestBlockNumber:e}}))}}),r.state={monitor:null,startBlockNumber:-1,blockNumber:0,latestBlockNumber:0},r}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)(xe.Provider,{value:Object(ne.a)(Object(ne.a)({},this.state),{},{start:this.start,stop:this.stop,setStartBlockNumber:this.setStartBlockNumber,resetMonitorState:this.resetMonitorState,isRunning:this.isRunning}),children:this.props.children})}}]),n}(a.a.Component);xe.Consumer;var ye=n(131),Te=n(370),Se=n(182),Pe=n.n(Se),Fe=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"getNFTData",value:function(){var e=Object(ge.a)(Object(ve.a)().mark((function e(t){var n,r,a,c,i,o,s,u,b,l,j;return Object(ve.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(Te.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=30;break}return a=r.value,e.prev=5,c=a.events[1].destination,i="".concat("https://api.solscan.io/account?address=").concat(c),e.next=10,Pe.a.get(i);case 10:return o=e.sent,s=o.data.data.metadata.data.uri,e.next=14,Pe.a.get(s);case 14:return u=e.sent,b=u.data,l=k(c),e.next=19,Pe.a.get(l);case 19:j=e.sent,b.ownerData=j.data.data[0],console.log({discoveryData:b}),Oe.Observer.emitNFTEvent(Object(ne.a)(Object(ne.a)({},b),{},{address:o.data.data.account})),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(5),console.error({e:e.t0});case 28:e.next=3;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(1),n.e(e.t1);case 35:return e.prev=35,n.f(),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[1,32,35,38],[5,25]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Re=Object(ce.a)("nftDiscovery"),Ce=function(){function e(){Object(s.a)(this,e),Object.defineProperty(this,Re,{writable:!0,value:void 0}),Object(ae.a)(this,Re)[Re]=new Fe}return Object(u.a)(e,[{key:"findNFTcandidates",value:function(){var e=Object(ge.a)(Object(ve.a)().mark((function e(t){var n;return Object(ve.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.txs.filter((function(e){return 6===e.events.length&&"create_account"===e.events[1].type})))&&Object(ae.a)(this,Re)[Re].getNFTData(n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ee=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Be=Object(ce.a)("running"),Ie=Object(ce.a)("client"),_e=Object(ce.a)("distiller"),Ae=Object(ce.a)("setBlockNumber"),De=Object(ce.a)("setLatestBlockNumber"),Le=Object(ce.a)("getLatestBlockNumber"),Me=Object(ce.a)("getBlock"),Ue=function(){function e(t,n,r){var a=this;Object(s.a)(this,e),Object.defineProperty(this,Me,{value:Ke}),Object.defineProperty(this,Le,{value:He}),Object.defineProperty(this,Be,{writable:!0,value:void 0}),Object.defineProperty(this,Ie,{writable:!0,value:void 0}),Object.defineProperty(this,_e,{writable:!0,value:void 0}),Object.defineProperty(this,Ae,{writable:!0,value:void 0}),Object.defineProperty(this,De,{writable:!0,value:void 0}),this.stop=function(){return Object(ae.a)(a,Be)[Be]=!1},this.isRunning=function(){return Object(ae.a)(a,Be)[Be]},Object(ae.a)(this,Ie)[Ie]=new ye.UbiquityClient(t),Object(ae.a)(this,_e)[_e]=new Ce,Object(ae.a)(this,Ae)[Ae]=n,Object(ae.a)(this,De)[De]=r}return Object(u.a)(e,[{key:"start",value:function(){var e=Object(ge.a)(Object(ve.a)().mark((function e(t){var n,r,a,c=this;return Object(ve.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Running monitor"),e.next=3,Object(ae.a)(this,Le)[Le]();case 3:n=e.sent,r="current"===t?n:t,Object(ae.a)(this,De)[De](n),Object(ae.a)(this,Be)[Be]=!0;case 7:if(!(n>=r&&this.isRunning())){e.next=25;break}if(console.log("Monitoring on block number: ".concat(r)),-1===r&&(r=n),Object(ae.a)(this,Ae)[Ae](r),!(n&&r>n)){e.next=13;break}return e.abrupt("return");case 13:return console.info("".concat(r," / ").concat(n)),e.next=16,Object(ae.a)(this,Me)[Me](r);case 16:if(!(a=e.sent)){e.next=20;break}return e.next=20,Object(ae.a)(this,_e)[_e].findNFTcandidates(a);case 20:return r++,e.next=23,Ee(1e3);case 23:e.next=7;break;case 25:if(this.isRunning()){e.next=27;break}return e.abrupt("return");case 27:setTimeout(Object(ge.a)(Object(ve.a)().mark((function e(){return Object(ve.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.start(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),1e3);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function He(){return ze.apply(this,arguments)}function ze(){return(ze=Object(ge.a)(Object(ve.a)().mark((function e(){var t,n;return Object(ve.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getLatestBlockNumber"),e.prev=1,e.next=4,Object(ae.a)(this,Ie)[Ie].syncApi.currentBlockNumber(ye.PROTOCOL.SOLANA,ye.NETWORKS.MAIN_NET);case 4:return t=e.sent,n=t.data,console.log({data:n}),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(1),console.log("error code::".concat(e.t0.response.status," url::").concat(e.t0.config.url));case 13:case"end":return e.stop()}}),e,this,[[1,10]])})))).apply(this,arguments)}function Ke(e){return We.apply(this,arguments)}function We(){return(We=Object(ge.a)(Object(ve.a)().mark((function e(t){var n,r;return Object(ve.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getBlock"),e.prev=1,e.next=4,Object(ae.a)(this,Ie)[Ie].blocksApi.getBlock(ye.PROTOCOL.SOLANA,ye.NETWORKS.MAIN_NET,t);case 4:return n=e.sent,r=n.data,console.log({data:r}),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1),console.log("error code::".concat(e.t0.response.status," url::").concat(e.t0.config.url));case 13:case"end":return e.stop()}}),e,this,[[1,10]])})))).apply(this,arguments)}i.a.createRoot(document.getElementById("root")).render(Object(f.jsx)(ee.a,{currentVersion:o.version,isEnabled:!0,isVerboseMode:!1,loadingComponent:Object(f.jsx)($,{open:!0}),children:Object(f.jsx)(ke,{children:Object(f.jsx)(me,{children:Object(f.jsx)(Y,{})})})})),te()}},[[766,1,2]]]);
//# sourceMappingURL=main.074bc35b.chunk.js.map